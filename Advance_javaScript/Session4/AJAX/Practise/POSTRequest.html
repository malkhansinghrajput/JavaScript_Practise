<!-- 
AJAX :
Asynchronous Javascript and xml (Extensible markup language)
It is not a programming language .
Life Cycle Of AJAX :
1. An event occure in a web page (page is loaded, When a button is clicked)
2.An XMLHttpRequest object is created by Javascript.
3.An XmlHttpRequest object sends a request to a web server.
4.Server process the request
5.Server Sends a response back to the web page.
6.Response is read by javascript 
-->

<button onclick="addProduct()">Add Product</button>
<script>
    function addProduct (){
        var xhttp = new XMLHttpRequest()
        var params = {
            "product_name": "T-Shirt",
            "product_brand": "Nike",
            "product_price": 1233.00,
            "product_size" : "X,XL,XXL,XXXL"
        }

        // open(method,url,async)
        // method: Request Type: POST,GET etc.
        // url: Server location
        // async:true(async) or false(sync)

        xhttp.open("POST","http://jvideh.pythonanywhere.com/shopping/product_api/products/",true)
        xhttp.send(JSON.stringify(params))

        xhttp.onreadystatechange = function () {
            console.log("HELLO:",this.readyState)
            if(this.readyState == 4 && this.status == 200){
                console.log(this.responseText)
                let jsonObj = JSON.parse(this.responseText)
                console.log(jsonObj)
            }else {
                console.log(this.status)
            }
        }
    }
</script>